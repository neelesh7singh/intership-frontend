(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{55:function(t,e,a){},78:function(t,e){},80:function(t,e){},96:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a(1),c=a.n(s),r=a(48),o=a.n(r),l=(a(55),a(18)),i=a(2),m=a(7),d=a(9),b=a.n(d);var u=function(t){var e=Object(s.useState)(""),a=Object(m.a)(e,2),c=a[0],r=a[1],o=Object(s.useState)(""),l=Object(m.a)(o,2),i=l[0],d=l[1],u=Object(s.useState)(""),j=Object(m.a)(u,2),p=j[0],h=j[1],f=Object(s.useState)(""),O=Object(m.a)(f,2),x=O[0],g=O[1];return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=new FormData;if(a.append("name",c),a.append("email",i),p===x){a.append("password",p);b.a.post("https://lt-lgtime-backend.herokuapp.com/api/v1/auth/signup",a,{headers:{"content-type":"multipart/form-data"},withCredentials:!0}).then((function(e){console.log(e),"Failed"===e.data.status?alert(e.data.message):t.history.push("/posts")})).catch((function(t){}))}else alert("Passwords did not match")},children:[Object(n.jsx)("legend",{className:" mt-5",children:"SignUp"}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Name:"}),Object(n.jsx)("input",{type:"text",name:"name",className:"form-control",onChange:function(t){return r(t.target.value)}})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Emal:"}),Object(n.jsx)("input",{type:"text",name:"email",className:"form-control",onChange:function(t){return d(t.target.value)}})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Password:"}),Object(n.jsx)("input",{type:"password",name:"password",className:"form-control",onChange:function(t){return h(t.target.value)}})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Confirm Password:"}),Object(n.jsx)("input",{type:"password",name:"password",className:"form-control",onChange:function(t){return g(t.target.value)}})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Upload"})]})}),Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=new FormData;a.append("email",i),a.append("password",p);b.a.post("https://lt-lgtime-backend.herokuapp.com/api/v1/auth/login",a,{headers:{"content-type":"multipart/form-data"},withCredentials:!0}).then((function(e){console.log(e),"Failed"===e.data.status?alert(e.data.message):t.history.push("/posts")})).catch((function(t){}))},children:[Object(n.jsx)("legend",{className:" mt-5",children:"LogIn"}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Emal:"}),Object(n.jsx)("input",{type:"text",name:"email",className:"form-control",onChange:function(t){return d(t.target.value)}})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Password:"}),Object(n.jsx)("input",{type:"password",name:"password",className:"form-control",onChange:function(t){return h(t.target.value)}})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Upload"})]})})]})};var j=function(t){var e=Object(s.useState)([]),a=Object(m.a)(e,2),c=a[0],r=a[1],o=Object(s.useState)(""),l=Object(m.a)(o,2),i=l[0],d=l[1],u=Object(s.useState)(""),j=Object(m.a)(u,2),p=j[0],h=j[1];function f(t){return t*(Math.PI/180)}var O=function(t,e,a,n){var s=f(a-t),c=f(n-e),r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(f(t))*Math.cos(f(a))*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},x=function(t){d(t.coords.latitude),h(t.coords.longitude)};return Object(s.useEffect)((function(){b.a.get("https://lt-lgtime-backend.herokuapp.com/api/v1/posts/all",{headers:{"content-type":"multipart/form-data"},withCredentials:!0}).then((function(e){"Failed"===e.data.status&&t.history.push("/"),function(t){navigator.geolocation?navigator.geolocation.getCurrentPosition(x):alert("Geolocation is not supported by this browser.");for(var e=0;e<t.length;e++)t[e].distance=O(i,p,t[e].lat,t[e].lng)}(e.data),e.data.sort((function(t,e){return t.distance-e.distance})),r(e.data)})).catch((function(t){}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-center mt-5 mb-3",children:"Posts"}),c.map((function(t){return Object(n.jsxs)("div",{className:"border border-3 mb-5 rounded",children:[t.img&&Object(n.jsx)("img",{className:"rounded mx-auto d-block mt-3",src:"http://localhost:3000/"+t.img.replace("public/",""),alt:""}),t.about&&Object(n.jsxs)("p",{className:"text-center mt-3",children:[" ",t.about," "]}),Object(n.jsxs)("p",{className:"text-end me-3 fw-bold",children:[" Location - ",t.country," "]})]},t._id)}))]})},p=a(31),h=a(73);var f=function(t){var e=Object(s.useState)(null),a=Object(m.a)(e,2),c=a[0],r=a[1],o=Object(s.useState)(""),l=Object(m.a)(o,2),i=l[0],d=l[1];return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=new FormData;a.append("about",i),a.append("img",c);var n={headers:{"content-type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"}};b.a.get("https://cors-anywhere.herokuapp.com/https://api.3geonames.org/?randomland=yes",n).then((function(e){var s=h.xml2json(e.data,{compact:!0,spaces:4});s=JSON.parse(s),a.append("lat",s.geodata.nearest.latt._text),a.append("lng",s.geodata.nearest.longt._text),n=Object(p.a)(Object(p.a)({},n),{},{withCredentials:!0}),b.a.post("https://lt-lgtime-backend.herokuapp.com/api/v1/posts/create",a,n).then((function(e){if("Failed"===e.data.status)return"Please login first"===e.data.message?t.history.push("/"):alert(e.data.message),void console.log(e);t.history.push("/posts")})).catch((function(t){}))})).catch((function(t){}))},children:[Object(n.jsx)("legend",{className:" mt-5",children:"LogIn"}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"About :"}),Object(n.jsx)("input",{type:"text",name:"about",maxlength:"500",className:"form-control",onChange:function(t){return d(t.target.value)}})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Imgage:"}),Object(n.jsx)("input",{type:"file",name:"img",className:"form-control",onChange:function(t){return r(t.target.files[0])}})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Upload"})]})})};var O=function(){return Object(n.jsxs)("div",{className:"App container",children:[Object(n.jsxs)("nav",{className:"navbar",children:[Object(n.jsx)(l.b,{className:"navbar-brand",to:"/posts",children:"Home"}),Object(n.jsx)(l.b,{className:"navbar-link",to:"/create",children:"Create Post"})]}),Object(n.jsxs)(i.c,{children:[Object(n.jsx)(i.a,{exact:!0,path:"/",component:u}),Object(n.jsx)(i.a,{exact:!0,path:"/posts",component:j}),Object(n.jsx)(i.a,{exact:!0,path:"/create",component:f})]})]})},x=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,c=e.getLCP,r=e.getTTFB;a(t),n(t),s(t),c(t),r(t)}))};o.a.render(Object(n.jsx)(l.a,{basename:"/intership-frontend",children:Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(O,{})})}),document.getElementById("root")),x()}},[[96,1,2]]]);
//# sourceMappingURL=main.ccd8202c.chunk.js.map